@use "../_variables.scss";

// Unified mobile styles for feedback cards (grouped and ungrouped)
.feedbackItem,
.feedback-item-group,           // For grouped containers
.feedbackItemGroupGroupedItem { // For grouped child items if used
  flex-basis: 100%;

  &.hideFeedbackItem .card-content {
    filter: blur(15px);
    pointer-events: none;
  }

  // All card variants
  .mainItemCard,
  .groupedItemCard,
  .feedbackItemGroupGroupedItem {
    min-width: calc(100vw - 45px);
    max-width: calc(100vw - 45px);
    border: none;
    background: #fff;
    box-shadow: none;
    padding: 12px 8px;
    font-size: variables.$mobile_font_size_main;

    .card-integral-part {
      border-left-width: 10px;
      border-left-style: solid;

      .card-header {
        height: variables.$mobile_feedback_item_header_height;

        // Group expand/collapse and count should remain visible
        //.feedback-expand-group {
        // Style as needed if you want to visually emphasize the group count/expand
        //}

        .feedback-action-button {
          height: variables.$mobile_extension_header_height;
          min-width: variables.$mobile_feedback_item_action_button_width;
          max-width: 200px;
          margin-right: 15px;
          margin-left: 15px;
          margin-top: 10px;
          padding: 1px 7px;

          i {
            height: variables.$mobile_extension_header_height;
            line-height: 1.3;
            font-size: variables.$mobile_font_size_main;
          }
        }

        .feedback-add-vote {
          &:hover:not(:disabled) {
            i {
              color: grey;
            }
          }

          .feedback-upvote-count {
            margin-left: 10px;
            font-size: variables.$mobile_font_size_main;
            line-height: 1.3;
          }
        }

        .item-actions-menu {
          padding: 15px 15px 0 0;

          .contextual-menu-button {
            height: 60px;
            width: 45px;

            i {
              height: 65px;
              width: 45px;
              line-height: 1.3;
              font-size: 50px;
              margin-right: 7px;
            }
          }
        }
      } // end .card-header

      .card-content {
        .feedback-yourvote-count {
          font-size: variables.$mobile_font_size_main;
        }
        .card-action-timer {
          button {
            width: 33%;
            min-height: 45px;
            font-size: variables.$mobile_font_size;
          }
        }
      }

      .card-id {
        font-size: variables.$mobile_font_size_main;
      }

      .ms-DocumentCardActivity,
      .anonymous-created-date {
        display: none;
      }
    } // end .card-integral-part
  } // end card variant
}

// Expanded group state for grouped cards
.feedback-item-group.feedback-item-group-expanded {
  .feedbackItemGroupGroupedItem {
    transform: scale(0.95);

    .groupedItemCard {
      min-width: calc(100vw - 45px);
      max-width: calc(100vw - 45px);
      border: none;
      background-color: rgba(var(--palette-neutral-10), 1);

      .card-integral-part {
        border-left-width: 8px;
        border-left-style: solid;
        background-color: var(--background-color);
      }
    }
  }
}
