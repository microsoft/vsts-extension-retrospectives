@use "../_variables.scss";

// Unified mobile styles for feedback cards (grouped and ungrouped)
.feedbackItem,
.feedback-item-group,
.feedbackItemGroupItem,
.feedbackItemGroupGroupedItem {
  flex-basis: auto;

  // Reduce space between cards
  margin-bottom: 2px; // ADDED: adjust as needed (try 4px for even less)

  &.hideFeedbackItem .card-content {
    filter: blur(5px);
    pointer-events: none;
  }

  // All card variants
  .mainItemCard,
  .groupedItemCard,
  .feedbackItemGroupItem,
  .feedbackItemGroupGroupedItem {
    min-width: calc(100vw - 45px);
    max-width: calc(100vw - 45px);
    border: none;
    background: #fff;
    box-shadow: none;
    // Reduce padding for less header/content space
    padding: 2px 4px; // CHANGED: was 5px 5px
    font-size: variables.$mobile_font_size_large;

    .card-integral-part {
      border-left-width: 10px; // CHANGED: was 10px (thinner border)
      border-left-style: solid;
      line-height: 1.1;
      height: auto;
      min-height: 180px;

      .card-header {
        // Reduce header height
        height: variables.$mobile_font_size_small + 2px; // CHANGED: was variables.$mobile_second_level_header_height
        line-height: 1.1;
        font-size: variables.$mobile_font_size_small;

        // Group expand/collapse and count should remain visible
        .feedback-expand-group {
          height: variables.$mobile_font_size_small - 2px;
          font-size: variables.$mobile_font_size_small;
        }

        .feedback-action-button {
          height: 20px; // CHANGED: was variables.$mobile_second_level_header_height
          min-width: variables.$mobile_feedback_item_action_button_width;
          max-width: 200px; // CHANGED: was 200px
          margin-right: 10px; // CHANGED: was 15px
          margin-left: 10px;  // CHANGED: was 15px
          margin-top: 2px;   // CHANGED: was 5px
          padding: 2px 5px;    // CHANGED: was 1px 7px

          i {
            height: 22px; // CHANGED: was variables.$mobile_extension_header_height
            line-height: 1.1;
            font-size: variables.$mobile_font_size_large;
          }
        }

        .feedback-add-vote {
          &:hover:not(:disabled) {
            i {
              color: grey;
            }
          }

          .feedback-upvote-count {
            margin-left: 8px; // CHANGED: was 10px
            font-size: variables.$mobile_font_size;
            line-height: 1.1;
          }
        }

        .item-actions-menu {
          padding: 2px 4px 0 0; // CHANGED: was 5px 10px 0 0

          .contextual-menu-button {
            height: 20px; // CHANGED: was variables.$mobile_second_level_header_height
            width: 40px;  // CHANGED: was 45px

            i {
              height: 22px; // CHANGED: was variables.$mobile_extension_header_height
              width: 40px;  // CHANGED: was 45px
              line-height: 1.1;
              font-size: variables.$mobile_font_size_large;
              margin-right: 5px; // CHANGED: was 7px
            }
          }
        }
      } // end .card-header

      .card-content {
        .feedback-yourvote-count {
          height: variables.$mobile_font_size_large + 2px;
          line-height: 1.1;
          font-size: variables.$mobile_font_size_large;
        }
        .card-action-timer {
          button {
            width: 33%;
            min-height: 10px; // CHANGED: was 15px
            font-size: variables.$mobile_font_size;
          }
        }
      }

      .card-id {
        font-size: variables.$mobile_font_size;
      }

      .ms-DocumentCardActivity,
      .anonymous-created-date {
        display: none;
      }
    } // end .card-integral-part
  } // end card variant
}

// Expanded group state for grouped cards
.feedback-item-group.feedback-item-group-expanded {
  .feedbackItemGroupGroupedItem {
    transform: scale(0.96);

    .groupedItemCard {
      min-width: calc(100vw - 45px);
      max-width: calc(100vw - 45px);
      border: none;
      box-shadow: none;
      background-color: rgba(var(--palette-neutral-10), 1);

      .card-integral-part {
        border-left-width: 8px; // CHANGED: was 8px
        border-left-style: solid;
        background-color: var(--background-color);
      }
    }
  }
}
